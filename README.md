# Jsonic

![MIT License](https://img.shields.io/badge/License-MIT-yellow.svg)

Jsonic is a lightweight library for parsing JSON files and easily querying JSON objects through a clean 
and simple API. 
Jsonic includes a custom Lexer, Parser, and JSON value types that allow safe navigation and extraction of data.

## Features
- Parse JSON into objects, arrays, strings, numbers, booleans and null.
- Stringify any JSON value back into JSON format.
- Simple querying API (get(), getString(), getObject(), getNumber(), etc).
- Fully tested tokenizer, parser, and data model.

## Approach and design choices
I created Jsonic as a personal learning project and purposely kept its design minimal, yet it still
has all the main JSON parser functionalities without depending on any third-party JSON libraries.

### Lexer
- Reads the raw JSON string.
- Produces a list of tokens (string, number, braces, brackets, colon, comma...).
- Skips whitespace and checks for illegal characters.
- Handles JSON edge cases such as escape sequences.

### Parser

- Consumes the tokens generated by the Lexer and builds the JSON structure in a recursive parsing approach.
- Produces objects (JSONObject), arrays (JSONArray), and wrappers for primitive values.
- Handles invalid tokens.

### JSONValue Model
- Main Interface `JSONValue` implemented by:
  - `JSONObject`
  - `JSONArray`
  - `JSONString`
  - `JSONNumber`
  - `JSONBoolean` 
  - `JSONNull`

### Design principles
All parsed structures are immutable, and the API tries to be as minimal as possible, relying solely on plain Java. 
The parser provides also helpful errors by throwing exceptions for invalid JSON.<br>
The Lexer, Parser, and Value Model are kept isolated and inaccessible to the user, ensuring the separation of concerns.

## Requirements

- Java JDK 22 or higher.
- Maven 3.6.0 or higher (for building and running tests).
- JUnit 5 5.10.0 (for unit testing).

## Clone the repository

```bash
git clone https://github.com/zhrfrd/Jsonic
```

## Build the project

If you have Maven installed:
```bash
mvn clean install
```

## Running Tests
This project uses **JUnit 5** for unit testing.

### Maven
Run all JUnit tests under `src/text/java`:
```bash
mvn test
```
Run a specific test class:
```bash
mvn -Dtest=JSONTest test
```

### Gradle
Run all JUnit tests under `src/text/java`:
```bash
./gradlew test
```
Run a specific test class:
```bash
./gradlew test --tests "zhrfrd.jsonic.JSONTest"
```

## Repository structure
```
Jsonic/
├── src/
│   ├── main/
│   │   └── java/
│   │       ├── zhrfrd/jsonic/
│   │       │    ├── JSON.java            # Main API
│   │       │    ├── JSONValue.java       # Base interface
│   │       │    ├── JSONObject.java
│   │       │    ├── JSONArray.java
│   │       │    ├── JSONString.java
│   │       │    ├── JSONNumber.java
│   │       │    ├── JSONBoolean.java
│   │       │    ├── JSONNull.java
│   │       │    ├── JSONType.java
│   │       │    └── internal/
│   │       │         ├── JSONParser.java
│   │       │         ├── Lexer.java
│   │       │         ├── Token.java
│   │       │         └── TokenType.java
│   │       └── module-info.java
│   └── test/
│       └── java/
│            └── zhrfrd/jsonic/
│                 ├── JSONArrayTest.java
│                 ├── JSONBooleanTest.java
│                 ├── JSONNullTest.java
│                 ├── JSONNumberTest.java
│                 ├── JSONObjectTest.java
│                 ├── JSONStringTest.java
│                 └── JSONTest.java
├── pom.xml
├── LICENSE
└── README.md
```

## Future improvements

## Notes
Jsonic is designed primarily for educational purposes, to understand how parsers work under the hood 
but the implementation is solid enough to be used in lightweight applications.

## Resources
- [Introducing JSON](https://www.json.org/json-en.html).
- [What is a Lexer, Anyway](dev.to/cad97/what-is-a-lexer-anyway-4kdo).
- [Crafting Interpreters](https://craftinginterpreters.com/introduction.html).
- [The JSON Data Interchange Format](https://www.rfc-editor.org/rfc/rfc8259).